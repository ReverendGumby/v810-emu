@0

0100 // MOV r0, r8
4227 // MOV 7, r17

// next:
CC48 0000 // LD.W 0[r8], r2  // numerator
CC28 0004 // LD.W 4[r8], r1  // denominator
CC68 0008 // LD.W 8[r8], r3  // quotient
CC88 000C // LD.W 12[r8], r4 // remainder
C0A8 0010 // LD.B 16[r8], r5 // flags

2441 // DIV r1, r2    // n / d -> r2; n % d -> r30 (signed)

7525 // STSR r9, PSW
B529 0007 // ANDI 07h, r9, r9

0C62 // CMP r2, r3
9416 // BNE error
0C9E // CMP r30, r4
9412 // BNE error
0CA9 // CMP r9, r5
940E // BNE error

A508 0014 // ADDI 20, r8, r8
463F // ADD -1, r17
95D2 // BNZ next

0200 // MOV r0, r16
6800 // HALT

// error:
421F // MOV -1, r16
6800 // HALT
